<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>NDM Network UK</title>

  <!-- ‚úÖ SEO Meta Tags -->
  <meta name="description" content="NDM Network UK creates high-quality Discord bots for giveaways, tickets, and monitoring." />
  <meta name="keywords" content="NDM Network, Discord bots, giveaway bot, support bot, status bot, bot hosting" />
  <meta name="author" content="NDM Network UK" />

  <!-- ‚úÖ Open Graph -->
  <meta property="og:title" content="NDM Network UK - Discord Bots" />
  <meta property="og:description" content="Powerful Discord bots for community management and server automation." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://yourdomain.xyz" />
  <meta property="og:image" content="https://yourdomain.xyz/og-image.png" />

  <!-- ‚úÖ Twitter Card -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="NDM Network UK - Discord Bots" />
  <meta name="twitter:description" content="Manage giveaways, support tickets, and more with NDM's custom Discord bots." />
  <meta name="twitter:image" content="https://yourdomain.xyz/og-image.png" />

  <!-- FontAwesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-pb/VkkRUYI/jVHqZ30DWcXG5VXgW7h0l0pjIVRqdV+vwlM1dwqsZBlHjWUwELnrqoYuZwWv+1M6NSpMChsVSvA==" crossorigin="anonymous" referrerpolicy="no-referrer" />

  <!-- Stylesheet -->
  <link rel="stylesheet" href="styles.css" />

  <!-- Inline Fixes for Widget -->
  <style>
    .page-wrapper {
      display: grid;
      grid-template-columns: 1fr 320px;
      gap: 2rem;
      max-width: 1400px;
      margin: 2rem auto;
      padding: 0 1rem;
    }

    .discord-sidebar {
      max-width: 320px;
      width: 100%;
      height: 500px;
      background: #2c2f33;
      border-left: 2px solid #7289da;
      border-radius: 8px;
      padding: 0.5rem;
      box-shadow: 0 0 8px rgba(0, 0, 0, 0.2);
      box-sizing: border-box;
      overflow: hidden;
    }

    #discordWidgetContainer iframe {
      visibility: visible !important;
      opacity: 1 !important;
      display: block !important;
      width: 100%;
      height: 100%;
      border: none;
    }

    @media screen and (max-width: 1024px) {
      .page-wrapper {
        display: block;
      }

      .discord-sidebar {
        width: 100%;
        margin-top: 2rem;
      }
    }

    @media screen and (max-width: 768px) {
      .discord-sidebar {
        display: none;
      }
    }
  </style>
</head>
<body>

  <!-- Navigation -->
  <header>
    <nav class="navbar">
      <div class="logo">NDM Network</div>
      <ul class="nav-links">
        <li><a href="index.html" class="active">Home</a></li>
        <li class="dropdown">
          <a href="javascript:void(0)">Bots ‚ñæ</a>
          <ul class="dropdown-content">
            <li><a href="giveaway.html">Giveaway</a></li>
            <li><a href="support.html">Support Team</a></li>
          </ul>
        </li>
        <li><a href="server.html">Discord Server</a></li>
        <li><a href="status.html">Status</a></li>
        <li><a href="contact.html">Contact Us</a></li>
      </ul>
      <button id="themeToggle" class="theme-toggle" aria-label="Toggle Dark/Light Mode">üåô</button>
    </nav>
  </header>

  <!-- Page Content + Sidebar -->
  <div class="page-wrapper">
    <div>
      <!-- Hero Section -->
      <main id="main" class="hero">
        <div class="hero-content">
          <h1>Welcome to NDM Network UK.</h1>
          <p class="hero-tagline">
            NDM is a small, dedicated team of developers focused on building reliable, easy-to-use Discord bots.
            Passionate about creating tools that enhance communities, NDM is always open to growing its team and expanding into new services.
          </p>
        </div>
      </main>

      <!-- Services Section -->
      <section class="section services">
        <h2>Discord Bots</h2>
        <p class="services-description">
          Our bot suite is built to enhance Discord communities with powerful tools.
        </p>
        <div class="services-grid">

          <!-- Giveaway Bot Card -->
          <div class="service-box">
            <img src="https://i.imgur.com/oWd49qo.png" alt="Support Team Icon" style="width: 100px; margin-bottom: 1rem;" />
            <h3>
              <span class="inline-indicator">
                <span id="onlineIndicatorGiveaway" class="online-indicator offline"></span>
              </span>
              Giveaway Bot
            </h3>
            <h4>Coming Soon</h4>
            <p>Slash commands for easy giveaway setup, real-time updates, and rerolls.</p>
            <div class="service-stats" style="margin: 1rem 0; font-size: 0.95rem;">
              <span class="stat" style="display: inline-flex; align-items: center; margin-right: 1rem;">
                <i class="fas fa-server" style="margin-right: 0.25rem;"></i>
                Servers:&nbsp;<span id="giveawayServerCount">‚Äî</span>
              </span>
              <span class="stat" style="display: inline-flex; align-items: center;">
                <i class="fas fa-users" style="margin-right: 0.25rem;"></i>
                Users:&nbsp;<span id="giveawayUserCount"></span>
              </span>
            </div>
            <a href="https://discord.com/oauth2/authorize?client_id=1365054686708764703" class="btn btn-discord" role="button">
              <img src="https://i.imgur.com/oWd49qo.png" alt="Discord Logo" class="btn-icon" style="width: 1rem; margin-right: 0.5rem;" />
              Add to Discord
            </a>
          </div>

          <!-- Support Bot -->
          <div class="service-box">
            <img src="https://via.placeholder.com/60" alt="Ticket Icon" />
            <h3>Support Team Bot</h3>
            <p>Primarily a Ticket Support Bot‚Äîmore features coming as it stabilizes.</p>
          </div>

          <!-- Status Bot -->
          <div class="service-box">
            <img src="https://via.placeholder.com/60" alt="Status Icon" />
            <h3>Status Monitoring</h3>
            <p>Bot online/offline tracking with alerts and a public status page.</p>
          </div>
        </div>
      </section>
    </div>

    <!-- ‚úÖ Sidebar Widget -->
    <aside class="discord-sidebar">
      <div id="discordWidgetContainer"></div>
    </aside>
  </div>

  <!-- Footer -->
  <footer>
    &copy; 2025 NDM Network UK. All rights reserved.
  </footer>

  <!-- Theme Toggle Script -->
  <script>
    const toggleButton = document.getElementById('themeToggle');
    const body = document.body;
    const savedTheme = localStorage.getItem('theme');

    if (savedTheme) body.classList.add(savedTheme);
    else body.classList.add('dark'); // default

    toggleButton.addEventListener('click', () => {
      if (body.classList.contains('light')) {
        body.classList.replace('light', 'dark');
        localStorage.setItem('theme', 'dark');
        toggleButton.textContent = 'üåô';
      } else {
        body.classList.replace('dark', 'light');
        localStorage.setItem('theme', 'light');
        toggleButton.textContent = '‚òÄÔ∏è';
      }

      // Update Discord widget on theme toggle
      const newTheme = body.classList.contains('light') ? 'light' : 'dark';
      loadDiscordWidget(newTheme);
    });

    toggleButton.textContent = body.classList.contains('light') ? '‚òÄÔ∏è' : 'üåô';
  </script>

  <!-- Bot Status + User/Server Count -->
  <script>
    const indicator = document.getElementById("onlineIndicatorGiveaway");
    async function updateOnlineIndicator() {
      try {
        const res = await fetch("https://giveaway.up.railway.app/status");
        const data = await res.json();
        if (data.status === "online") {
          indicator.classList.replace("offline", "online");
        } else {
          indicator.classList.replace("online", "offline");
        }
      } catch {
        indicator.classList.replace("online", "offline");
      }
    }

    updateOnlineIndicator();
    setInterval(updateOnlineIndicator, 60000);

    const serverCountEl = document.getElementById('giveawayServerCount');
    const userCountEl = document.getElementById('giveawayUserCount');

    async function updateGiveawayStats() {
      try {
        const res = await fetch('https://giveaway.up.railway.app/status');
        const data = await res.json();
        serverCountEl.textContent = data.servers?.toLocaleString() || '‚Äî';
        userCountEl.textContent = data.users?.toLocaleString() || '‚Äî';
      } catch {
        serverCountEl.textContent = 'N/A';
        userCountEl.textContent = 'N/A';
      }
    }

    updateGiveawayStats();
    setInterval(updateGiveawayStats, 60000);
  </script>

  <!-- Discord Widget Loader (Dynamic Theme Support) -->
  <script>
    function loadDiscordWidget(theme) {
      const container = document.getElementById('discordWidgetContainer');
      container.innerHTML = '';

      const iframe = document.createElement('iframe');
      iframe.src = `https://discord.com/widget?id=590269512985739264&theme=${theme}`;
      iframe.allowTransparency = true;
      iframe.frameBorder = "0";
      iframe.sandbox = "allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts";
      iframe.style.width = '100%';
      iframe.style.height = '100%';
      iframe.style.border = 'none';
      iframe.style.visibility = 'visible';
      iframe.style.display = 'block';

      container.appendChild(iframe);
    }

    const initialTheme = document.body.classList.contains('light') ? 'light' : 'dark';
    loadDiscordWidget(initialTheme);
  </script>
</body>
</html>
